{"componentChunkName":"component---src-templates-blog-post-js","path":"/como-você-faria-essa-validação/","result":{"data":{"site":{"siteMetadata":{"siteUrl":"https://devjuniorplus.com.br"}},"markdownRemark":{"fields":{"slug":"/como-você-faria-essa-validação/"},"frontmatter":{"description":"Validação avançada com Yup!","title":"Como você faria essa validação?","date":"10 de fevereiro de 2022","image":"assets/images/leon-dewiwje-lddmtgf89gu-unsplash.jpeg"},"html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAIBAwQF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAwAB/9oADAMBAAIQAxAAAAG3osmWYkNP/8QAGRAAAgMBAAAAAAAAAAAAAAAAAQIAAxEh/9oACAEBAAEFAqgScEalNEeFu//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/AUf/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPwGK/8QAGRABAAMBAQAAAAAAAAAAAAAAAQIQIVGR/9oACAEBAAY/AhDK2MfKi8a//8QAGhABAAMBAQEAAAAAAAAAAAAAAQARIUFh8P/aAAgBAQABPyFbOqXyOR1jbuY4jSj4Jdon/9oADAMBAAIAAwAAABDbD//EABYRAQEBAAAAAAAAAAAAAAAAAAEAQf/aAAgBAwEBPxAXIn//xAAXEQEBAQEAAAAAAAAAAAAAAAABADFR/9oACAECAQE/EEazxf/EABwQAQACAgMBAAAAAAAAAAAAAAEAESExQVFhcf/aAAgBAQABPxDhFQ47b3B5Esr2txujm0XFR4xGEU2/RQksGxebn//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image lazyload\"\n        alt=\"Formulario\"\n        title=\"Formulario\"\n        data-src=\"/static/35f516f3203a3e321aea4329efd41d85/18e3b/leon-dewiwje-lddmtgf89gu-unsplash.jpg\"\n        data-srcset=\"/static/35f516f3203a3e321aea4329efd41d85/46946/leon-dewiwje-lddmtgf89gu-unsplash.jpg 240w,\n/static/35f516f3203a3e321aea4329efd41d85/55489/leon-dewiwje-lddmtgf89gu-unsplash.jpg 480w,\n/static/35f516f3203a3e321aea4329efd41d85/18e3b/leon-dewiwje-lddmtgf89gu-unsplash.jpg 960w,\n/static/35f516f3203a3e321aea4329efd41d85/60e21/leon-dewiwje-lddmtgf89gu-unsplash.jpg 1440w,\n/static/35f516f3203a3e321aea4329efd41d85/69b48/leon-dewiwje-lddmtgf89gu-unsplash.jpg 1920w,\n/static/35f516f3203a3e321aea4329efd41d85/73f1f/leon-dewiwje-lddmtgf89gu-unsplash.jpg 4368w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h2>Introdução</h2>\n<p>Vamos para mais um dica aqui, dessa vez uma dica de validação de formulários. Utilizo bastante o Yup no meu dia-a-dia, o que me faz sempre procurar novas funcionalidades dessa lib incrível. </p>\n<h2>O problema</h2>\n<p>Alguns dias atrás precisei fazer a seguinte validação:</p>\n<p>Meu formulário possui vários campos, mas dois eram <strong>dependentes um do outro</strong>, <code class=\"language-text\">data entrada</code> e <code class=\"language-text\">data saída</code>. </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABOklEQVR42qWQy0rDUBCGzwtoUXwXF76Fbi3FtxC7sq7cunEhrW50oWB3gtKq20DFYqsLwY3GS5qLyUmTk/vvOScSFVEMDnzkMP/MPzMhjDHYtgPHoaDURZZlSNO0FKJHhPgSkTAMG5pmSVzXL8S/ICIMQ+5hyDcRySCIJL7PwFhYcsMMcRzD8/x8Q3GyOJVSysVETvnXyXGSQDdf8TIyMdIt0LGHmBtHSQyh/YaoSbihHzDeq+eG+U/gE4IUic83jPJppSPMryPq2ERHvcL50zVniLPHIbrqAKfvdLl28tDH8X3/S/5DH8ge4fHsWSAbgyOQzXlMtWqYbFYLKq0qJpqLmNlZwly7jtnD5aKm8rmOM71d4x4L2LrpgCjaLVaUXaz1DrDa2/9Gg+fXL9uSxg81oreu7OFCv8Mb66eGPIPJcj0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image lazyload\"\n        alt=\"form with two fields\"\n        title=\"Formulario\"\n        data-src=\"/static/3aff122125af7a5edb62813b438f57ed/7d769/screen-shot-2022-02-10-at-7.40.14-am.png\"\n        data-srcset=\"/static/3aff122125af7a5edb62813b438f57ed/5243c/screen-shot-2022-02-10-at-7.40.14-am.png 240w,\n/static/3aff122125af7a5edb62813b438f57ed/ab158/screen-shot-2022-02-10-at-7.40.14-am.png 480w,\n/static/3aff122125af7a5edb62813b438f57ed/7d769/screen-shot-2022-02-10-at-7.40.14-am.png 960w,\n/static/3aff122125af7a5edb62813b438f57ed/acdd1/screen-shot-2022-02-10-at-7.40.14-am.png 1150w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>Não eram obrigatórios, <strong>MAS</strong> se o <code class=\"language-text\">data entrada</code> fosse preenchido, o <code class=\"language-text\">data saída</code> se tornava obrigatório.</p>\n<h2>Solução</h2>\n<p>Com o Yup é simples! Veja o exemplo:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// Criamos o schema normalmente</span>\n<span class=\"token keyword\">const</span> schema <span class=\"token operator\">=</span> Yup<span class=\"token punctuation\">.</span><span class=\"token function\">object</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">shape</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  data_inicio<span class=\"token operator\">:</span> Yup<span class=\"token punctuation\">.</span><span class=\"token function\">date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// Perceba que não é obrigatório</span>\n  data_fim<span class=\"token operator\">:</span> Yup<span class=\"token punctuation\">.</span><span class=\"token function\">date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">notRequired</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// Perceba que não é obrigatório</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">when</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data_inicio'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> \n      <span class=\"token function-variable function\">is</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">val<span class=\"token operator\">:</span> Date</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> val <span class=\"token operator\">!==</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// Mas se o `data_inicio` estiver preenchido...</span>\n      then<span class=\"token operator\">:</span> Yup<span class=\"token punctuation\">.</span><span class=\"token function\">date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">required</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Informar a data saída'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// ...se torna obrigatório</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52.083333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABdElEQVR42p2Qy04UQRSGe0d8gCHRd3HHMxDiSka3sCAsWfAEuMKFRMNMfAATlpAwGiZMAi+gKImZZm7V3dMXu3v6Uv1xqhkiuBClki916q///HVSVhzHTKc+QRAQRb/QWj+KqkL2CqsoClzXZzh0GI3c+WX1z5gkk+EoRVmWWFqEvChJZzlJmlHKK0b7H0oZIpnN6l4rDkIC5RC6LpWI5Bk6ndW1foBbT5VlyJhUeY5VSpA3Uqj+EHcwJvF8SFN0kqDlfx+iEl8Rhri2jZYsq1ATAntAeCWBP/tEgyHl1CMXiiiszX9FPFngE47HFCaQKAblQRCBmc6ReuKAL+dHLMuOPXrqO+fOJWfOD+FyjtTqhu74a83t+U9Mb29ygR3LhBunLRberfCs/ZrF/eZvWk0asht96WCb55+26roxv7vLU9Gf7L1gs9fGan/7zPLhDq86b1k93r3HS6HZ2WW9+4G1k/d1bbTVzn2f6V05esPHiy9cA4/Zzd/TRsjTAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image lazyload\"\n        alt=\"form with two fields\"\n        title=\"Formulario com mensagem de erro\"\n        data-src=\"/static/37ec890fe09e0aa4e2f2bb57d501f106/7d769/screen-shot-2022-02-10-at-7.41.11-am.png\"\n        data-srcset=\"/static/37ec890fe09e0aa4e2f2bb57d501f106/5243c/screen-shot-2022-02-10-at-7.41.11-am.png 240w,\n/static/37ec890fe09e0aa4e2f2bb57d501f106/ab158/screen-shot-2022-02-10-at-7.41.11-am.png 480w,\n/static/37ec890fe09e0aa4e2f2bb57d501f106/7d769/screen-shot-2022-02-10-at-7.41.11-am.png 960w,\n/static/37ec890fe09e0aa4e2f2bb57d501f106/e717f/screen-shot-2022-02-10-at-7.41.11-am.png 1132w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p><strong>Massa né?!</strong></p>\n<h2>Conclusão</h2>\n<p>Esse post foi uma dica rápida de validação com o Yup. </p>\n<p>Quero trazer mais dicas sobre ele e sobre o <strong>React Hook Form</strong>, lib para gerenciamento de formulários que venho utilizando a quase 1 ano. Se tiver interesse em mais posts como esse, deixa nos comentário ou me manda uma mensagem no <a href=\"https://www.linkedin.com/in/junior-alves-b66a10127/\">LinkedIn</a> pra gente trocar uma idéia! Valeu e até a proxima.</p>","timeToRead":1}},"pageContext":{"slug":"/como-você-faria-essa-validação/","previousPost":{"fields":{"slug":"/como-você-pode-aumentar-sua-produtividade-no-insomnia-com-essa-dica/"},"frontmatter":{"title":"Como você pode aumentar sua produtividade no Insomnia com essa dica"}},"nextPost":{"fields":{"slug":"/3-dicas-para-você-usar-em-projetos-react-typescript/"},"frontmatter":{"title":"3 dicas para você usar em projetos React + Typescript! "}}}},"staticQueryHashes":["2037742868","3149229692","764694655"]}